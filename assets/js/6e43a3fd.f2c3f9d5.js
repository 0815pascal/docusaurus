"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4346],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return h}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=p(r),h=a,m=c["".concat(l,".").concat(h)]||c[h]||u[h]||s;return r?n.createElement(m,o(o({ref:t},d),{},{components:r})):n.createElement(m,o({ref:t},d))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=r.length,o=new Array(s);o[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var p=2;p<s;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},1794:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return u}});var n=r(7462),a=r(3366),s=(r(7294),r(3905)),o=["components"],i={slug:"requestdispatcher-forward-vs-httpservletresponse-sendredirect",title:"RequestDispatcher.forward() vs HttpServletResponse.sendRedirect()",authors:{name:"Pascal",title:"Full Stack Web Dev",url:"https://github.com/0815pascal",image_url:"https://github.com/0815pascal.png"},tags:["Java","Servlets","JSP","Redirect","Forward"]},l=void 0,p={permalink:"/docusaurus/blog/requestdispatcher-forward-vs-httpservletresponse-sendredirect",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022-05-31-requestdispatcher-forward-vs-httpservletresponse-sendredirect.md",source:"@site/blog/2022-05-31-requestdispatcher-forward-vs-httpservletresponse-sendredirect.md",title:"RequestDispatcher.forward() vs HttpServletResponse.sendRedirect()",description:"What is the conceptual difference between forward() and sendRedirect()?",date:"2022-05-31T00:00:00.000Z",formattedDate:"May 31, 2022",tags:[{label:"Java",permalink:"/docusaurus/blog/tags/java"},{label:"Servlets",permalink:"/docusaurus/blog/tags/servlets"},{label:"JSP",permalink:"/docusaurus/blog/tags/jsp"},{label:"Redirect",permalink:"/docusaurus/blog/tags/redirect"},{label:"Forward",permalink:"/docusaurus/blog/tags/forward"}],readingTime:4.77,truncated:!1,authors:[{name:"Pascal",title:"Full Stack Web Dev",url:"https://github.com/0815pascal",image_url:"https://github.com/0815pascal.png",imageURL:"https://github.com/0815pascal.png"}],frontMatter:{slug:"requestdispatcher-forward-vs-httpservletresponse-sendredirect",title:"RequestDispatcher.forward() vs HttpServletResponse.sendRedirect()",authors:{name:"Pascal",title:"Full Stack Web Dev",url:"https://github.com/0815pascal",image_url:"https://github.com/0815pascal.png",imageURL:"https://github.com/0815pascal.png"},tags:["Java","Servlets","JSP","Redirect","Forward"]},nextItem:{title:"Welcome",permalink:"/docusaurus/blog/welcome"}},d={authorsImageUrls:[void 0]},u=[{value:"requestDispatcher - forward() method",id:"requestdispatcher---forward-method",level:3},{value:"SendRedirect",id:"sendredirect",level:3},{value:"Which one is good?",id:"which-one-is-good",level:3},{value:"See also",id:"see-also",level:3}],c={toc:u};function h(e){var t=e.components,r=(0,a.Z)(e,o);return(0,s.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"What is the conceptual difference between ",(0,s.kt)("inlineCode",{parentName:"p"},"forward()")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect()"),"?")),(0,s.kt)("p",null,"Source: ",(0,s.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/2047122/requestdispatcher-forward-vs-httpservletresponse-sendredirect"},"BalusC"),' In the web development world, the term "redirect" is the act of sending the client an empty HTTP response with just a ',(0,s.kt)("inlineCode",{parentName:"p"},"Location")," header containing the new URL to which the client has to send a brand new GET request. So basically:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Client sends a HTTP request to ",(0,s.kt)("inlineCode",{parentName:"li"},"some.jsp"),"."),(0,s.kt)("li",{parentName:"ul"},"Server sends a HTTP response back with ",(0,s.kt)("inlineCode",{parentName:"li"},"Location: other.jsp")," header"),(0,s.kt)("li",{parentName:"ul"},"Client sends a HTTP request to ",(0,s.kt)("inlineCode",{parentName:"li"},"other.jsp")," (this get reflected in browser address bar!)"),(0,s.kt)("li",{parentName:"ul"},"Server sends a HTTP response back with content of ",(0,s.kt)("inlineCode",{parentName:"li"},"other.jsp"),".")),(0,s.kt)("p",null,'You can track it with the web browser\'s builtin/addon developer toolset. Press F12 in Chrome/IE9/Firebug and check the "Network" section to see it.'),(0,s.kt)("p",null,"Exactly the above is achieved by ",(0,s.kt)("inlineCode",{parentName:"p"},'sendRedirect("other.jsp")'),". The ",(0,s.kt)("inlineCode",{parentName:"p"},"RequestDispatcher#forward()")," doesn't send a redirect. Instead, it uses the content of the target page as HTTP response."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Client sends a HTTP request to ",(0,s.kt)("inlineCode",{parentName:"li"},"some.jsp"),"."),(0,s.kt)("li",{parentName:"ul"},"Server sends a HTTP response back with content of ",(0,s.kt)("inlineCode",{parentName:"li"},"other.jsp"),".")),(0,s.kt)("p",null,"However, as the original HTTP request was to ",(0,s.kt)("inlineCode",{parentName:"p"},"some.jsp"),", the URL in browser address bar remains unchanged. Also, any request attributes set in the controller behind ",(0,s.kt)("inlineCode",{parentName:"p"},"some.jsp")," will be available in ",(0,s.kt)("inlineCode",{parentName:"p"},"other.jsp"),". This does not happen during a redirect because you're basically forcing the client to create a ",(0,s.kt)("strong",{parentName:"p"},"new")," HTTP request on ",(0,s.kt)("inlineCode",{parentName:"p"},"other.jsp"),", hereby throwing away the original request on ",(0,s.kt)("inlineCode",{parentName:"p"},"some.jsp")," including all of its attribtues"),(0,s.kt)("hr",null),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"RequestDispatcher")," is extremely useful in the MVC paradigm and/or when you want to hide JSP's from direct access. You can put JSP's in the ",(0,s.kt)("inlineCode",{parentName:"p"},"/WEB-INF")," folder and use a ",(0,s.kt)("inlineCode",{parentName:"p"},"Servlet")," which controls, preprocesses and postprocesses the requests. The JSPs in the ",(0,s.kt)("inlineCode",{parentName:"p"},"/WEB-INF")," folder are not directly accessible by URL, but the Servlet can access them using ",(0,s.kt)("inlineCode",{parentName:"p"},"RequestDispatcher#forward()"),"."),(0,s.kt)("p",null,"You can for example have a JSP file in ",(0,s.kt)("inlineCode",{parentName:"p"},"/WEB-INF/login.jsp")," and a ",(0,s.kt)("inlineCode",{parentName:"p"},"LoginServlet")," which is mapped on an ",(0,s.kt)("inlineCode",{parentName:"p"},"url-pattern")," of ",(0,s.kt)("inlineCode",{parentName:"p"},"/login"),". When you invoke ",(0,s.kt)("inlineCode",{parentName:"p"},"http://example.com/context/login"),", then the servlet's ",(0,s.kt)("inlineCode",{parentName:"p"},"doGet()")," will be invoked. You can do any ",(0,s.kt)("em",{parentName:"p"},"pre"),"processing stuff in there and finally ",(0,s.kt)("strong",{parentName:"p"},"forward")," the request like:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-Java"},'request.getRequestDispatcher("/WEB-INF/login.jsp").forward(request, response);\n')),(0,s.kt)("p",null,"When you submit a form, you normally want to use ",(0,s.kt)("inlineCode",{parentName:"p"},"POST"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-html"},'<form action="login" method="post">\n')),(0,s.kt)("p",null,"This way the servlet's ",(0,s.kt)("inlineCode",{parentName:"p"},"doPost()")," will be invoked and you can do any postprocessing stuff in there (e.g. validation, business logic, login the user, etc)."),(0,s.kt)("p",null,"If there are any errors, then you normally want to ",(0,s.kt)("strong",{parentName:"p"},"forward")," the request back to the same page and display the errors there next to the input fields and so on. You can use the ",(0,s.kt)("inlineCode",{parentName:"p"},"RequestDispatcher")," for this."),(0,s.kt)("p",null,"If a ",(0,s.kt)("inlineCode",{parentName:"p"},"POST")," is successful, you normally want to ",(0,s.kt)("strong",{parentName:"p"},"redirect")," the request, so that the request won't be resubmitted when the user refreshes the request (e.g. pressing F5 or navigating back in history)."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-java"},'User user = userDAO.find(username, password);\nif (user != null) {\n    request.getSession().setAttribute("user", user); // Login user.\n    response.sendRedirect("home"); // Redirects to <http://example.com/context/home> after succesful login.\n} else {\n    request.setAttribute("error", "Unknown login, please try again."); // Set error.\n    request.getRequestDispatcher("/WEB-INF/login.jsp").forward(request, response); // Forward to same page so that you can display error.\n}\n')),(0,s.kt)("p",null,"A ",(0,s.kt)("strong",{parentName:"p"},"redirect")," thus instructs the client to fire a new ",(0,s.kt)("inlineCode",{parentName:"p"},"GET"),' request on the given URL. Refreshing the request would then only refresh the redirected request and not the initial request. This will avoid "double submits" and confusion and bad user experiences. This is also called the ',(0,s.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Post/Redirect/Get"},"POST-Redirect-GET pattern"),"."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"requestdispatcher---forward-method"},"requestDispatcher - forward() method"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"When we use the ",(0,s.kt)("inlineCode",{parentName:"p"},"forward")," method, the request is transferred to another resource within the same server for further processing.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In the case of ",(0,s.kt)("inlineCode",{parentName:"p"},"forward"),", the web container handles all processing internally and the client or browser is not involved.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"When ",(0,s.kt)("inlineCode",{parentName:"p"},"forward")," is called on the ",(0,s.kt)("inlineCode",{parentName:"p"},"requestDispatcherobject"),", we pass the request and response objects, so our old request object is present on the new resource which is going to process our request.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Visually, we are not able to see the forwarded address, it is transparent.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Using the ",(0,s.kt)("inlineCode",{parentName:"p"},"forward()")," method is faster than ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect"),".")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"When we redirect using forward, and we want to use the same data in a new resource, we can use ",(0,s.kt)("inlineCode",{parentName:"p"},"request.setAttribute()")," as we have a request object available."))),(0,s.kt)("h3",{id:"sendredirect"},"SendRedirect"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In case of ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect"),", the request is transferred to another resource, to a different domain, or to a different server for further processing.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"When you use ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect"),", the container transfers the request to the client or browser, so the URL given inside the ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect")," method is visible as a new request to the client.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In case of ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect")," call, the old request and response objects are lost because it\u2019s treated as new request by the browser.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In the address bar, we are able to see the new redirected address. It\u2019s not transparent.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect")," is slower because one extra round trip is required, because a completely new request is created and the old request object is lost. Two browser request are required.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"But in ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect"),", if we want to use the same data for a new resource we have to store the data in session or pass along with the URL."))),(0,s.kt)("h3",{id:"which-one-is-good"},"Which one is good?"),(0,s.kt)("p",null,"Its depends upon the scenario for which method is more useful."),(0,s.kt)("p",null,"If you want control is transfer to new server or context, and it is treated as completely new task, then we go for ",(0,s.kt)("inlineCode",{parentName:"p"},"sendRedirect"),". Generally, a forward should be used if the operation can be safely repeated upon a browser reload of the web page and will not affect the result."),(0,s.kt)("p",null,"Source: ",(0,s.kt)("a",{parentName:"p",href:"https://stackoverflow.com/a/19289165/4146792"},"Abhijeet Ashok Muneshwar")," / ",(0,s.kt)("a",{parentName:"p",href:"https://javarevisited.blogspot.com/2011/09/sendredirect-forward-jsp-servlet.html"},"Javarevisited")),(0,s.kt)("h3",{id:"see-also"},"See also"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreadi"},"How do servlets work? Instantiation, sessions, shared variables and multithreading")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/2349633/doget-and-dopost-in-servlets"},"doGet and doPost in Servlets")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/6464931/how-perform-validation-and-display-error-message-in-same-form-in-jsp"},"How perform validation and display error message in same form in JSP?")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/9034149/httpservletresponse-sendredirect-permanent"},"HttpServletResponse sendRedirect permanent"))))}h.isMDXComponent=!0}}]);